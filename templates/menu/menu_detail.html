{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="container-xl tw-pt-28">
    <div id="added">
        <div class="container-lg">
            <div class="row g-3">
                <div class="col-md-7 col-lg-7 order-md-first bg-light">
                    <img class="img-fluid mx-auto d-block" width="800px" alt="Responsive image" src="{{ menu.image.url }}">
                </div>
                <div class="col-md-4 col-lg-4 ps-md-3 ps-lg-5">
                    <h1 class="mb-0 h4">{{ menu.title }}</h1>
                    <p><span class="lead">{{ menu.cuisine }} cuisine</span></p>
                    <p>{{ menu.description }}</p>
                    <div class="">
                        <div class="py-1">
                            <label class="form-label" for="serving">Serving:</label>
                            <select class="form-select" name="serving" id="menu-{{ menu.id }}-serving">
                                {% for serving in servings %}
                                    <option value="{{ serving.id }}">{{ serving.get_title_display }} - Â£ {{ serving.price }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="py-1">
                            <label class="form-label" for="quantity">Quantity:</label>
                            <select class="form-select" name="quantity" id="menu-{{ menu.id }}-qty">
                                <option value="1" selected>1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="py-1">  
                            <button class="btn btn-success px-5" id="detail-add-btn" data-slug="{{menu.slug}}" data-id="{{menu.id}}">Add to cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container-lg">
            <p class="mt-5">{{ menu.description }}</p>
            <hr>
        
            <div class="fs-4">Ingredients:</div>
            <ul>
                <div class="row mt-3">
                    {% for ingredient in menu.get_ingredients %}
                    <div class="col-5">
                        <div class="row mb-2">
                            <li class="list-group d-flex flex-row">
                                <img src="{{ ingredient.image.url }}" alt="{{ ingredient.title }}" width="50px">
                                <p class="ms-3">{{ ingredient.title }}</p>
                            </li>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </ul>
            <hr>
        
            <div class="fs-4 mb-3">Nutritional Information:</div>  
            <ul>
                {% if menu.get_nutritions %}
                    {% for nu in menu.get_nutritions %}
                    <li>{{ nu.title }} - {{ nu.figure }}{{ nu.unit }}</li>
                    {% endfor %}
                {% else %}
                    <p>information coming soon</p>
                {% endif %}
            </ul>
        </div>
    </div>
</div>


<script src="{% static 'js/menu/menuDetail.js' %}"></script>

{% endblock %}