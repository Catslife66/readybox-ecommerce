{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="container-xl tw-pt-28">
    <div class="d-flex justify-content-center">
        <div class="col-5">
            {% if not request.user.is_authenticated %}
            <form action="." method="post" autocomplete="off" class="my-2">
                {% csrf_token %}
                <fieldset>
                    <legend>Register a new account:</legend>
                    <div class="py-2">
                        <label for="username" class="form-label">{{ form.username.label_tag }}</label>
                        {% render_field form.username class+='form-control' name='username' %}
                        {% if form.username.errors %}
                            <div class="alert alert-danger">
                                {{form.username.errors}}
                            </div>
                        {% endif %}
                    </div>
                    <div class="py-2">
                        <label for="email" class="form-label">{{ form.email.label_tag }}</label>
                        {% render_field form.email class+='form-control' name='email' %}
                        {{ form.non_field_errors }}
                    </div>
            
                    <div class="py-2">
                        <label for="password1" class="form-label">{{ form.password1.label_tag }}</label>
                        {% render_field form.password1 class+='form-control' name='password1' %}
                        {% if form.password1.errors %}
                            <div class="alert alert-danger">
                                {{form.password1.errors}}
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="py-2">
                        <label for="password2" class="form-label">{{ form.password2.label_tag }}</label>
                        {% render_field form.password2 class+='form-control' name='password2'%}
                        {% if form.password2.errors %}
                        <div class="alert alert-danger">
                            {{form.password2.errors}}
                        </div>
                        {% endif %}
                    </div>
                    
                    <button class="btn btn-success px-3 mt-3" type="submit">Register</button>
                </fieldset>
            </form>
            {% else %}
                <p class="errorlist">Do you want to <a href="{% url 'accounts:logout' %}" class="tw-text-lime-900 tw-font-medium">log out</a>?</p>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}